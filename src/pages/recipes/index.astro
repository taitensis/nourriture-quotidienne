---
import BaseLayout from "@/layouts/BaseLayout.astro";
import RecipesIndex from "@/components/recipes/RecipesIndex";
import { getCollection } from "astro:content";


const recipes = await getCollection("recipes");


const items = recipes.map((r) => ({
slug: r.slug,
title: r.data.title,
tags: r.data.tags || [],
total: r.data.time?.total ?? null,
date: r.data.date ?? null,
difficulty: r.data.difficulty ?? null,
image: r.data.images?.[0]?.src ?? null,
summary: (r as any).data.summary ?? null,
}));
---
<BaseLayout title="Recipes" description="Browse all recipes.">
<h1 class="text-[clamp(1.75rem,2.5vw+1rem,2.75rem)] font-bold mb-6">All Recipes</h1>
<RecipesIndex client:load items={items} />
</BaseLayout>